<aside class="w-full lg:w-full space-y-2">
    <nav class="flex flex-col gap-1">
        <template x-for="item in sidebarItems" :key="item.id">
            <div class="group">
                <div class="flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-300"
                     :class="activeCategory === item.id ? 'bg-[var(--primary)] text-white shadow-md' : 'hover:bg-[var(--surface-alt)] text-[var(--text)]'"
                     @click="item.children ? (activeCategory = activeCategory === item.id ? null : item.id) : (activeCategory = item.id)">
                    
                    <span class="font-semibold text-sm" x-text="item.label"></span>
                    
                    <template x-if="item.children">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             class="transition-transform duration-300"
                             :class="activeCategory === item.id ? 'rotate-180' : ''">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </template>
                </div>

                <!-- Dropdown Children -->
                <div x-show="activeCategory === item.id && item.children" 
                     x-collapse
                     class="pl-4 mt-1 space-y-1">
                    <template x-for="child in item.children" :key="child.label">
                        <a :href="child.href" 
                           class="block p-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--primary)] hover:bg-[var(--primary)]/5 rounded-md transition-all">
                            <span x-text="child.label"></span>
                        </a>
                    </template>
                </div>
            </div>
        </template>
    </nav>
</aside>

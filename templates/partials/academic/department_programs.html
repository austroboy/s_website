{% load static %}

<!-- Department Programs HTML (Partial) -->
<section id="programs" class="py-12 md:py-20 bg-[var(--surface-alt)] relative overflow-hidden">
    
    <!-- Decorative faint background circle -->
    <div class="absolute bottom-0 left-0 w-[500px] h-[500px] rounded-full opacity-[0.03]" style="background: radial-gradient(circle, var(--accent) 0%, transparent 70%);"></div>

    <div class="max-w-[1200px] mx-auto px-6 lg:px-8 relative z-10 reveal-up">
        
        <!-- Standardized Left-Aligned Heading -->
        <div class="flex flex-col sm:flex-row sm:items-end justify-between mb-10 gap-4">
            <div class="space-y-2">
                <div class="section-eyebrow">
                    <i data-lucide="graduation-cap" class="w-4 h-4 text-[var(--primary)]"></i>
                    <span>Academics</span>
                </div>
                <h2 class="text-2xl md:text-4xl lg:text-5xl font-extrabold text-[var(--text)] tracking-tight">Our Programs</h2>
            </div>
        </div>

        <!-- Programs Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for program in department.programs %}
                <div class="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-2 flex flex-col border border-gray-100/80">
                    
                    <!-- Image Wrapper -->
                    <div class="relative h-44 overflow-hidden">
                        <img src="{{ program.image_url }}" alt="{{ program.name }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-[var(--secondary)]/80 via-black/20 to-transparent"></div>
                        
                        <div class="absolute bottom-3 right-5 text-right">
                            <span class="text-2xl md:text-3xl font-black text-white/90 tracking-tighter drop-shadow-[0_0_12px_rgba(0,81,255,0.4)]">{{ program.shortCode }}</span>
                        </div>

                        <div class="absolute top-3 left-3 bg-[var(--primary)]/20 backdrop-blur-md p-2 rounded-xl border border-white/20">
                            <i data-lucide="{{ program.icon|default:'book-open' }}" class="w-4 h-4 text-white"></i>
                        </div>
                    </div>

                    <!-- Card Body -->
                    <div class="p-5 flex flex-col flex-1">
                        <h3 class="text-sm font-bold text-[var(--text)] leading-snug mb-4 group-hover:text-[var(--primary)] transition-colors line-clamp-2">{{ program.name }}</h3>
                        
                        <div class="mt-auto pt-4 border-t border-gray-100 flex items-center justify-between text-xs font-semibold text-[var(--text-muted)]">
                            <div class="flex items-center gap-1.5 focus:outline-none">
                                <i data-lucide="clock" class="w-3.5 h-3.5 text-[var(--primary)]"></i>
                                <span>{{ program.duration }}</span>
                            </div>
                            <div class="flex items-center gap-1.5 focus:outline-none">
                                <i data-lucide="award" class="w-3.5 h-3.5 text-[var(--accent)]"></i>
                                <span>{{ program.credits }}</span>
                            </div>
                        </div>
                    </div>

                    <div class="h-1 bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] w-0 group-hover:w-full transition-all duration-500"></div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

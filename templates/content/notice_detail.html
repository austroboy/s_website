{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Academic Header -->
{% include 'partials/academic/header.html' with title="Notice Details" %}

<div class="py-12 md:py-20 bg-white">
    <div class="max-w-[1200px] mx-auto px-6 lg:px-8">
        
        <div class="flex flex-col lg:flex-row gap-12">
            
            <!-- Main Content (70%) -->
            <main class="lg:w-[70%]">
                <div class="reveal-up space-y-6">
                    <!-- Head -->
                    <div class="space-y-4">
                        <div class="section-eyebrow">
                            <i data-lucide="info" class="w-4 h-4"></i>
                            <span>Official Notice</span>
                        </div>
                        <h1 class="text-3xl md:text-5xl font-extrabold text-[var(--text)] tracking-tight leading-tight">
                            {{ notice.title }}
                        </h1>
                        <div class="flex items-center space-x-4 py-4 border-y border-gray-100">
                            <div class="flex items-center text-[var(--text-muted)] text-sm">
                                <i data-lucide="calendar" class="w-4 h-4 mr-2 text-[var(--primary)]"></i>
                                Published on <span class="font-bold text-[var(--text)] ml-1">{{ notice.full_date }}</span>
                            </div>
                            <div class="w-1.5 h-1.5 rounded-full bg-gray-200"></div>
                            <div class="flex items-center text-[var(--text-muted)] text-sm">
                                <i data-lucide="bookmark" class="w-4 h-4 mr-2 text-[var(--accent)]"></i>
                                General Notice
                            </div>
                        </div>
                    </div>

                    <!-- Rich Text Body -->
                    <div class="content-rich-text prose prose-lg max-w-none text-[var(--text)] leading-relaxed prose-headings:text-[var(--text)] prose-headings:font-extrabold prose-a:text-[var(--primary)] prose-strong:text-[var(--secondary)]">
                        {{ notice.contentHtml|safe }}
                    </div>

                    <!-- Share / Actions -->
                    <div class="pt-10 border-t border-gray-100 flex flex-wrap gap-4">
                        <button class="btn-primary-blue text-xs rounded-lg px-6">
                            <i data-lucide="download" class="w-4 h-4 mr-2"></i> Download PDF
                        </button>
                        <button class="btn-outline-blue text-xs rounded-lg px-6">
                            <i data-lucide="share-2" class="w-4 h-4 mr-2"></i> Share Notice
                        </button>
                    </div>
                </div>
            </main>

            <!-- Sidebar (30%) - Homepage Style Highlights -->
            <aside class="lg:w-[30%] space-y-8">
                <!-- Highlights Sidebar -->
                <div class="bg-[var(--surface-alt)] p-6 md:p-8 rounded-3xl border border-gray-100 shadow-sm sticky top-24">
                    <div class="flex items-center space-x-3 mb-8">
                        <div class="bg-gradient-to-br from-[var(--primary)] to-[var(--primary-dark)] p-2 rounded-xl text-white shadow-lg">
                            <i data-lucide="bell" class="w-4 h-4"></i>
                        </div>
                        <h2 class="text-xl font-extrabold text-[var(--text)] tracking-tight">Recent Highlights</h2>
                    </div>

                    <div class="space-y-4">
                        {% for item in recent_notices %}
                        <a href="{{ item.href }}" class="group flex items-stretch bg-white rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 hover:border-[var(--primary)]/30 overflow-hidden">
                            <!-- Mini Date -->
                            <div class="w-16 bg-gradient-to-b from-[var(--primary)] to-[var(--primary-dark)] flex flex-col items-center justify-center py-2 text-white">
                                <span class="text-sm font-extrabold leading-tight">{{ item.date|slice:":2" }}</span>
                                <span class="text-[8px] font-bold uppercase tracking-wider opacity-80">{{ item.date|slice:"3:" }}</span>
                            </div>
                            <!-- Content -->
                            <div class="flex-1 p-3 flex flex-col justify-center min-w-0">
                                <h4 class="text-[12px] font-bold text-[var(--text)] leading-snug group-hover:text-[var(--primary)] transition-colors line-clamp-2">
                                    {{ item.title }}
                                </h4>
                            </div>
                        </a>
                        {% endfor %}
                    </div>

                    <div class="mt-8">
                        <a href="{% url 'content:notice_list' %}" class="block text-center text-xs font-bold text-[var(--primary)] hover:text-[var(--primary-dark)] transition-colors uppercase tracking-widest border border-[var(--primary)]/30 py-3 rounded-xl hover:bg-white">
                            View All Notices
                        </a>
                    </div>
                </div>
            </aside>

        </div>
    </div>
</div>
{% endblock %}
